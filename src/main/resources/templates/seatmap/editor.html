<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport">
    <title>Canvas Curve Drawing</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.min.css"
          rel="stylesheet">
    <link rel="stylesheet" th:href="@{/static/css/normalize.css}">
    <base th:href="${baseUrl}">
</head>
<link rel="stylesheet" th:href="@{/static/css/style.css}">
</head>

<style>
    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.8);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        display: none;
    }

    .spinner-border {
        width: 3rem;
        height: 3rem;
    }

    .templates-panel {
        display: flex;
        flex-direction: column;
        justify-content: start;
        gap: 1rem;
        display: none;
    }

    .template-img img {
        width: 100%;
        aspect-ratio: 16/11;
    }
</style>
<script th:inline="javascript">
    /*<![CDATA[*/
    let seatMapData = /*[[${json}]]*/ {};
    /*]]>*/
</script>
</head>
<body>
<div class="loading-overlay" id="loadingOverlay">
    <div class="spinner-border text-primary" role="status">
    </div>
    <div>Please wait for saving...</div>
</div>
<div class="canvas-container">
    <canvas id="myCanvas"></canvas>
</div>

<div class="menu-bar" id="mainMenuBar">
    <div class="d-flex">
        <div class="dropdown">
            <button class="dropdown-toggle" id="dropdownMenuButton">
                <i class="bi bi-list"></i>
            </button>
            <ul class="dropdown-menu" id="mapDropDown">
                <li class="dropdown-item" id="loadButton">
                    <i class="bi bi-folder2-open"></i>
                </li>
                <li class="dropdown-item" id="blankButton">
                    <i class="bi bi-file-earmark"></i>
                </li>
                <li class="dropdown-item" id="saveButton">
                    <i class="bi bi-download"></i>
                </li>
                <li class="dropdown-item">
                    <a href="javascript:void(0);" onclick="history.back();" style="color: white;">
                        <i class="bi bi-box-arrow-left"></i>
                    </a>
                </li>
            </ul>
        </div>
        <button id="selectArea"><i class="bi bi-cursor"></i></button>
        <button id="insertArea">
            <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12.922 6.52771C12.7689 6.20894 12.4032 6 12 6C11.5968 6 11.2311 6.20894 11.078 6.52771L7.32749 14.2424L6.07732 16.814C5.86479 17.2507 6.10545 17.7516 6.61489 17.9337C7.12434 18.1159 7.70879 17.9096 7.92132 17.473L8.9152 15.4291H15.0848L16.0787 17.473C16.2912 17.9096 16.8757 18.1159 17.3851 17.9337C17.8946 17.7516 18.1352 17.2507 17.9227 16.814L16.6725 14.2424L12.922 6.52771ZM14.2503 13.7147H9.74969L12 9.08589L14.2503 13.7147Z"
                      fill="white"/>
                <path clip-rule="evenodd" d="M2 0C0.895431 0 0 0.89543 0 2V22C0 23.1046 0.89543 24 2 24H22C23.1046 24 24 23.1046 24 22V2C24 0.895431 23.1046 0 22 0H2ZM3.40039 2.4C2.84811 2.4 2.40039 2.84772 2.40039 3.4V20.6C2.40039 21.1523 2.84811 21.6 3.40039 21.6H20.6004C21.1527 21.6 21.6004 21.1523 21.6004 20.6V3.4C21.6004 2.84772 21.1527 2.4 20.6004 2.4H3.40039Z"
                      fill="white"
                      fill-rule="evenodd"/>
            </svg>
        </button>
        <div class="dropdown d-flex justify-content-center">
            <button id="insertRectangleStage">
                <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_2416_94)">
                        <path d="M10.6315 8.47032C10.1792 8.67188 9.93621 8.98126 9.86871 9.39376C9.81471 9.72423 9.85296 9.93751 9.91371 10.0828C9.97671 10.2305 10.0915 10.3734 10.2895 10.5188C10.7215 10.8328 11.3762 11.0367 12.1997 11.2805C12.2222 11.2875 12.2425 11.2945 12.265 11.2992C13.0007 11.5172 13.885 11.782 14.5352 12.2531C14.8885 12.5086 15.208 12.8508 15.4037 13.3102C15.6017 13.7742 15.6467 14.2945 15.5522 14.8641C15.388 15.8602 14.758 16.5445 13.9367 16.9102C13.1402 17.2664 12.157 17.3297 11.1535 17.1656H11.149C10.609 17.0742 9.73821 16.7649 9.17796 16.5656C9.06996 16.5258 8.97096 16.493 8.88996 16.4649C8.51646 16.3313 8.31396 15.907 8.43771 15.5133C8.56146 15.1195 8.97096 14.9086 9.34896 15.0375C9.45921 15.075 9.57846 15.1172 9.70671 15.1641C10.2782 15.3656 10.9757 15.6141 11.3807 15.682C12.2087 15.8156 12.8995 15.7406 13.372 15.5297C13.8242 15.3281 14.065 15.0188 14.1347 14.6063C14.1887 14.2758 14.1505 14.0625 14.0897 13.9172C14.0267 13.7695 13.912 13.6266 13.714 13.4813C13.282 13.1672 12.6272 12.9633 11.8037 12.7195C11.7812 12.7125 11.761 12.7055 11.7385 12.7008C11.0027 12.4828 10.1185 12.218 9.46821 11.7469C9.11496 11.4914 8.79546 11.1492 8.59971 10.6899C8.40171 10.2258 8.35671 9.70548 8.45121 9.13594L9.15996 9.26485L8.44896 9.13829C8.61321 8.14219 9.24321 7.45782 10.0645 7.09219C10.861 6.73594 11.8442 6.67266 12.8477 6.83673C13.1402 6.8836 14.0267 7.06173 14.3462 7.15079C14.731 7.25626 14.9582 7.66876 14.857 8.06954C14.7557 8.47032 14.3597 8.70704 13.975 8.60157C13.723 8.53126 12.8927 8.36251 12.6227 8.32032C11.7925 8.18438 11.104 8.26173 10.6292 8.47266L10.6315 8.47032Z"
                              fill="white"/>
                    </g>
                    <path clip-rule="evenodd" d="M2 0C0.895431 0 0 0.89543 0 2V22C0 23.1046 0.89543 24 2 24H22C23.1046 24 24 23.1046 24 22V2C24 0.895431 23.1046 0 22 0H2ZM3.40234 2.4C2.85006 2.4 2.40234 2.84772 2.40234 3.4V20.6C2.40234 21.1523 2.85006 21.6 3.40234 21.6H20.6023C21.1546 21.6 21.6023 21.1523 21.6023 20.6V3.4C21.6023 2.84772 21.1546 2.4 20.6023 2.4H3.40234Z"
                          fill="white"
                          fill-rule="evenodd"/>
                    <defs>
                        <clipPath id="clip0_2416_94">
                            <rect fill="white" height="12" transform="translate(8.40234 6)" width="7.2"/>
                        </clipPath>
                    </defs>
                </svg>
            </button>
            <ul class="dropdown-menu" id="insertStageDropDown">
                <li class="dropdown-item" id="insertEllipseStage">
                    <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                        <path clip-rule="evenodd" d="M23.5 12C23.5 18.3513 18.3513 23.5 12 23.5C5.64873 23.5 0.5 18.3513 0.5 12C0.5 5.64873 5.64873 0.5 12 0.5C18.3513 0.5 23.5 5.64873 23.5 12ZM21.5 12C21.5 17.2467 17.2467 21.5 12 21.5C6.75329 21.5 2.5 17.2467 2.5 12C2.5 6.75329 6.75329 2.5 12 2.5C17.2467 2.5 21.5 6.75329 21.5 12ZM9.46677 9.39375C9.53427 8.98125 9.77727 8.67188 10.2295 8.47031L10.2273 8.47266C10.702 8.26172 11.3905 8.18438 12.2208 8.32031C12.4908 8.3625 13.321 8.53125 13.573 8.60156C13.9578 8.70703 14.3538 8.47031 14.455 8.06953C14.5563 7.66875 14.329 7.25625 13.9443 7.15078C13.6248 7.06172 12.7383 6.88359 12.4458 6.83672C11.4423 6.67266 10.459 6.73594 9.66252 7.09219C8.84127 7.45781 8.21127 8.14219 8.04702 9.13828L8.04883 9.1386C7.95491 9.70709 8.00008 10.2265 8.19777 10.6898C8.39352 11.1492 8.71302 11.4914 9.06627 11.7469C9.71652 12.218 10.6008 12.4828 11.3365 12.7008C11.3548 12.7046 11.3715 12.7099 11.3892 12.7155C11.3933 12.7169 11.3975 12.7182 11.4018 12.7195C12.2253 12.9633 12.88 13.1672 13.312 13.4812C13.51 13.6266 13.6248 13.7695 13.6878 13.9172C13.7485 14.0625 13.7868 14.2758 13.7328 14.6062C13.663 15.0188 13.4223 15.3281 12.97 15.5297C12.4975 15.7406 11.8068 15.8156 10.9788 15.682C10.5861 15.6161 9.91838 15.3806 9.35719 15.1826L9.30477 15.1641C9.17652 15.1172 9.05727 15.075 8.94702 15.0375C8.56902 14.9086 8.15952 15.1195 8.03577 15.5133C7.91202 15.907 8.11452 16.3312 8.48802 16.4648C8.51003 16.4725 8.53337 16.4805 8.55785 16.4889C8.62348 16.5113 8.69737 16.5366 8.77602 16.5656C9.33627 16.7648 10.207 17.0742 10.747 17.1656H10.7515C11.755 17.3297 12.7383 17.2664 13.5348 16.9102C14.356 16.5445 14.986 15.8602 15.1503 14.8641C15.2448 14.2945 15.1998 13.7742 15.0018 13.3102C14.806 12.8508 14.4865 12.5086 14.1333 12.2531C13.483 11.782 12.5988 11.5172 11.863 11.2992C11.8448 11.2954 11.828 11.2901 11.8104 11.2845C11.8062 11.2831 11.802 11.2818 11.7978 11.2805C10.9743 11.0367 10.3195 10.8328 9.88752 10.5188C9.68952 10.3734 9.57477 10.2305 9.51177 10.0828C9.45102 9.9375 9.41277 9.72422 9.46677 9.39375Z"
                              fill="white"
                              fill-rule="evenodd"/>
                    </svg>
                </li>
                <li class="dropdown-item" id="insertRectangleStage">
                    <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_2416_94)">
                            <path d="M10.6315 8.47032C10.1792 8.67188 9.93621 8.98126 9.86871 9.39376C9.81471 9.72423 9.85296 9.93751 9.91371 10.0828C9.97671 10.2305 10.0915 10.3734 10.2895 10.5188C10.7215 10.8328 11.3762 11.0367 12.1997 11.2805C12.2222 11.2875 12.2425 11.2945 12.265 11.2992C13.0007 11.5172 13.885 11.782 14.5352 12.2531C14.8885 12.5086 15.208 12.8508 15.4037 13.3102C15.6017 13.7742 15.6467 14.2945 15.5522 14.8641C15.388 15.8602 14.758 16.5445 13.9367 16.9102C13.1402 17.2664 12.157 17.3297 11.1535 17.1656H11.149C10.609 17.0742 9.73821 16.7649 9.17796 16.5656C9.06996 16.5258 8.97096 16.493 8.88996 16.4649C8.51646 16.3313 8.31396 15.907 8.43771 15.5133C8.56146 15.1195 8.97096 14.9086 9.34896 15.0375C9.45921 15.075 9.57846 15.1172 9.70671 15.1641C10.2782 15.3656 10.9757 15.6141 11.3807 15.682C12.2087 15.8156 12.8995 15.7406 13.372 15.5297C13.8242 15.3281 14.065 15.0188 14.1347 14.6063C14.1887 14.2758 14.1505 14.0625 14.0897 13.9172C14.0267 13.7695 13.912 13.6266 13.714 13.4813C13.282 13.1672 12.6272 12.9633 11.8037 12.7195C11.7812 12.7125 11.761 12.7055 11.7385 12.7008C11.0027 12.4828 10.1185 12.218 9.46821 11.7469C9.11496 11.4914 8.79546 11.1492 8.59971 10.6899C8.40171 10.2258 8.35671 9.70548 8.45121 9.13594L9.15996 9.26485L8.44896 9.13829C8.61321 8.14219 9.24321 7.45782 10.0645 7.09219C10.861 6.73594 11.8442 6.67266 12.8477 6.83673C13.1402 6.8836 14.0267 7.06173 14.3462 7.15079C14.731 7.25626 14.9582 7.66876 14.857 8.06954C14.7557 8.47032 14.3597 8.70704 13.975 8.60157C13.723 8.53126 12.8927 8.36251 12.6227 8.32032C11.7925 8.18438 11.104 8.26173 10.6292 8.47266L10.6315 8.47032Z"
                                  fill="white"/>
                        </g>
                        <path clip-rule="evenodd" d="M2 0C0.895431 0 0 0.89543 0 2V22C0 23.1046 0.89543 24 2 24H22C23.1046 24 24 23.1046 24 22V2C24 0.895431 23.1046 0 22 0H2ZM3.40234 2.4C2.85006 2.4 2.40234 2.84772 2.40234 3.4V20.6C2.40234 21.1523 2.85006 21.6 3.40234 21.6H20.6023C21.1546 21.6 21.6023 21.1523 21.6023 20.6V3.4C21.6023 2.84772 21.1546 2.4 20.6023 2.4H3.40234Z"
                              fill="white"
                              fill-rule="evenodd"/>
                        <defs>
                            <clipPath id="clip0_2416_94">
                                <rect fill="white" height="12" transform="translate(8.40234 6)" width="7.2"/>
                            </clipPath>
                        </defs>
                    </svg>
                </li>
            </ul>
        </div>
        <button class="d-flex justify-content-center align-items-center" id="panningButton">
            <svg fill="none" height="20" viewBox="0 0 18 20" width="18" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.8035 4.40004V3.97719C14.8035 2.2736 13.2207 0.981458 11.5598 1.41681C10.5586 -0.516781 7.88438 -0.436703 6.9511 1.44599C5.3386 1.03345 3.73216 2.26349 3.73216 3.98438V8.91132C2.95275 8.6212 2.04045 8.71335 1.30705 9.25784C0.160376 10.1092 -0.091147 11.7318 0.738695 12.8966L5.42497 19.4753C5.54057 19.6376 5.69328 19.7698 5.87037 19.8611C6.04745 19.9524 6.24379 20 6.44302 20H15.1499C15.7321 20 16.2372 19.5981 16.368 19.0307L17.547 13.9152C17.6818 13.3302 17.7498 12.7317 17.7499 12.1314V6.99218C17.7499 5.40547 16.3623 4.18 14.8035 4.40004ZM15.8748 12.1313C15.8748 12.5896 15.8227 13.0481 15.7199 13.4941L14.6526 18.125H6.76509L2.26525 11.8087C1.70123 11.0169 2.85209 10.1378 3.41345 10.9257L4.47314 12.4131C4.8245 12.9063 5.60716 12.6587 5.60716 12.0505V3.98438C5.60716 2.98262 7.03571 3.01524 7.03571 4.01137V9.99999C7.03571 10.3452 7.31551 10.625 7.66071 10.625H7.92852C8.27371 10.625 8.55352 10.3452 8.55352 9.99999V2.6172C8.55352 1.61474 9.98207 1.64806 9.98207 2.64419V9.99999C9.98207 10.3452 10.2619 10.625 10.6071 10.625H10.8749C11.2201 10.625 11.4999 10.3452 11.4999 9.99999V3.9502C11.4999 2.94739 12.9284 2.98106 12.9284 3.97719V9.99999C12.9284 10.3452 13.2082 10.625 13.5534 10.625H13.8212C14.1664 10.625 14.4462 10.3452 14.4462 9.99999V7.01918C14.4462 5.9941 15.8747 6.01762 15.8747 6.99218V12.1313H15.8748Z"
                      fill="white"/>
            </svg>
        </button>
        <button id="undoButton"><i class="bi bi-arrow-counterclockwise"></i></button>
        <button id="redoButton"><i class="bi bi-arrow-clockwise"></i></button>
        <button id="removeButton"><i class="bi bi-trash"></i></button>
    </div>
    <div style="width: 10rem;font-size: 28px;">VieTicket</div>
    <div>
        <button id="mirrorHorizontally">
            <svg height="64" viewBox="0 0 100 64" width="100" xmlns="http://www.w3.org/2000/svg">
                <polygon fill="none" points="4,60 35,4 35,60" stroke="#ffffff" stroke-dasharray="4,4" stroke-width="2"/>
                <polygon fill="none" points="48,4 80,60 48,60" stroke="#ffffff" stroke-width="2"/>
            </svg>
        </button>
        <button id="mirrorVertically">
            <svg class="rotate-ninety" height="64" viewBox="0 0 100 64" width="100" xmlns="http://www.w3.org/2000/svg">
                <polygon fill="none" points="4,60 35,4 35,60" stroke="#ffffff" stroke-dasharray="4,4" stroke-width="2"/>
                <polygon fill="none" points="48,4 80,60 48,60" stroke="#ffffff" stroke-width="2"/>
            </svg>
        </button>
        <button id="duplicateShape">
            <svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.125 0H5.625C4.58945 0 3.75 0.839453 3.75 1.875V3.75H1.875C0.839453 3.75 0 4.58945 0 5.625V18.125C0 19.1605 0.839453 20 1.875 20H14.375C15.4105 20 16.25 19.1605 16.25 18.125V16.25H18.125C19.1605 16.25 20 15.4105 20 14.375V1.875C20 0.839453 19.1605 0 18.125 0ZM14.1406 18.125H2.10938C2.04721 18.125 1.9876 18.1003 1.94365 18.0564C1.89969 18.0124 1.875 17.9528 1.875 17.8906V5.85938C1.875 5.79721 1.89969 5.7376 1.94365 5.69365C1.9876 5.64969 2.04721 5.625 2.10938 5.625H3.75V14.375C3.75 15.4105 4.58945 16.25 5.625 16.25H14.375V17.8906C14.375 17.9528 14.3503 18.0124 14.3064 18.0564C14.2624 18.1003 14.2028 18.125 14.1406 18.125ZM17.8906 14.375H5.85938C5.79721 14.375 5.7376 14.3503 5.69365 14.3064C5.64969 14.2624 5.625 14.2028 5.625 14.1406V2.10938C5.625 2.04721 5.64969 1.9876 5.69365 1.94365C5.7376 1.89969 5.79721 1.875 5.85938 1.875H17.8906C17.9528 1.875 18.0124 1.89969 18.0564 1.94365C18.1003 1.9876 18.125 2.04721 18.125 2.10938V14.1406C18.125 14.2028 18.1003 14.2624 18.0564 14.3064C18.0124 14.3503 17.9528 14.375 17.8906 14.375Z"
                      fill="white"/>
            </svg>
        </button>
        <button data-bs-target="#exampleModalLong" data-bs-toggle="modal"><i class="bi bi-question-circle"></i></button>
    </div>
</div>

    <div class="menu-bar" id="areaMenuBar" style="display: none;">
        <div class="d-flex">
            <button id="backButton"><i class="bi bi-arrow-left"></i></button>
            <button id="selectSeatsMode"><i class="bi bi-cursor"></i></button>
            <div class="dropdown dropdown-icon">
                <button id="insertSeats">
                    <svg width="20" height="10" viewBox="0 0 20 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.85709 6C4.43501 6 5.71418 4.65685 5.71418 3C5.71418 1.34315 4.43501 0 2.85709 0C1.27916 0 0 1.34315 0 3C0 4.65685 1.27916 6 2.85709 6ZM2.8571 5.25C4.04054 5.25 4.99991 4.24264 4.99991 3C4.99991 1.75736 4.04054 0.75 2.8571 0.75C1.67365 0.75 0.714282 1.75736 0.714282 3C0.714282 4.24264 1.67365 5.25 2.8571 5.25ZM17.1422 6C18.7202 6 19.9993 4.65685 19.9993 3C19.9993 1.34315 18.7202 0 17.1422 0C15.5643 0 14.2852 1.34315 14.2852 3C14.2852 4.65685 15.5643 6 17.1422 6ZM17.1431 5.25C18.3265 5.25 19.2859 4.24264 19.2859 3C19.2859 1.75736 18.3265 0.75 17.1431 0.75C15.9596 0.75 15.0002 1.75736 15.0002 3C15.0002 4.24264 15.9596 5.25 17.1431 5.25ZM12.8572 3C12.8572 4.65685 11.5781 6 10.0002 6C8.42223 6 7.14307 4.65685 7.14307 3C7.14307 1.34315 8.42223 0 10.0002 0C11.5781 0 12.8572 1.34315 12.8572 3ZM12.143 3C12.143 4.24264 11.1836 5.25 10.0002 5.25C8.81672 5.25 7.85735 4.24264 7.85735 3C7.85735 1.75736 8.81672 0.75 10.0002 0.75C11.1836 0.75 12.143 1.75736 12.143 3Z" fill="white"/>
                    </svg>
                </button>
                <ul class="dropdown-menu" id="insertSeatDropDown">
                    <li class="dropdown-item" id="insertSeats">
                        <svg width="20" height="10" viewBox="0 0 20 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.85709 6C4.43501 6 5.71418 4.65685 5.71418 3C5.71418 1.34315 4.43501 0 2.85709 0C1.27916 0 0 1.34315 0 3C0 4.65685 1.27916 6 2.85709 6ZM2.8571 5.25C4.04054 5.25 4.99991 4.24264 4.99991 3C4.99991 1.75736 4.04054 0.75 2.8571 0.75C1.67365 0.75 0.714282 1.75736 0.714282 3C0.714282 4.24264 1.67365 5.25 2.8571 5.25ZM17.1422 6C18.7202 6 19.9993 4.65685 19.9993 3C19.9993 1.34315 18.7202 0 17.1422 0C15.5643 0 14.2852 1.34315 14.2852 3C14.2852 4.65685 15.5643 6 17.1422 6ZM17.1431 5.25C18.3265 5.25 19.2859 4.24264 19.2859 3C19.2859 1.75736 18.3265 0.75 17.1431 0.75C15.9596 0.75 15.0002 1.75736 15.0002 3C15.0002 4.24264 15.9596 5.25 17.1431 5.25ZM12.8572 3C12.8572 4.65685 11.5781 6 10.0002 6C8.42223 6 7.14307 4.65685 7.14307 3C7.14307 1.34315 8.42223 0 10.0002 0C11.5781 0 12.8572 1.34315 12.8572 3ZM12.143 3C12.143 4.24264 11.1836 5.25 10.0002 5.25C8.81672 5.25 7.85735 4.24264 7.85735 3C7.85735 1.75736 8.81672 0.75 10.0002 0.75C11.1836 0.75 12.143 1.75736 12.143 3Z" fill="white"/>
                        </svg>
                    </li>
                    <li class="dropdown-item" id="insertGridSeats">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M2.85714 5.82142C4.4351 5.82142 5.71429 4.57421 5.71429 3.03571C5.71429 1.4972 4.4351 0.25 2.85714 0.25C1.27919 0.25 0 1.4972 0 3.03571C0 4.57421 1.27919 5.82142 2.85714 5.82142ZM2.85672 5.12501C4.04019 5.12501 4.99958 4.18961 4.99958 3.03573C4.99958 1.88185 4.04019 0.946445 2.85672 0.946445C1.67326 0.946445 0.713867 1.88185 0.713867 3.03573C0.713867 4.18961 1.67326 5.12501 2.85672 5.12501ZM17.1424 5.82142C18.7204 5.82142 19.9996 4.57421 19.9996 3.03571C19.9996 1.4972 18.7204 0.25 17.1424 0.25C15.5645 0.25 14.2853 1.4972 14.2853 3.03571C14.2853 4.57421 15.5645 5.82142 17.1424 5.82142ZM17.142 5.12501C18.3255 5.12501 19.2849 4.18961 19.2849 3.03573C19.2849 1.88185 18.3255 0.946445 17.142 0.946445C15.9586 0.946445 14.9992 1.88185 14.9992 3.03573C14.9992 4.18961 15.9586 5.12501 17.142 5.12501ZM12.8578 3.03571C12.8578 4.57421 11.5787 5.82142 10.0007 5.82142C8.42274 5.82142 7.14355 4.57421 7.14355 3.03571C7.14355 1.4972 8.42274 0.25 10.0007 0.25C11.5787 0.25 12.8578 1.4972 12.8578 3.03571ZM12.1431 3.03573C12.1431 4.18961 11.1837 5.12501 10.0003 5.12501C8.81681 5.12501 7.85742 4.18961 7.85742 3.03573C7.85742 1.88185 8.81681 0.946445 10.0003 0.946445C11.1837 0.946445 12.1431 1.88185 12.1431 3.03573ZM12.8578 10C12.8578 11.5385 11.5787 12.7857 10.0007 12.7857C8.42274 12.7857 7.14355 11.5385 7.14355 10C7.14355 8.46153 8.42274 7.21433 10.0007 7.21433C11.5787 7.21433 12.8578 8.46153 12.8578 10ZM12.1431 10C12.1431 11.1539 11.1837 12.0893 10.0003 12.0893C8.81681 12.0893 7.85742 11.1539 7.85742 10C7.85742 8.84614 8.81681 7.91074 10.0003 7.91074C11.1837 7.91074 12.1431 8.84614 12.1431 10ZM17.1424 12.7858C18.7204 12.7858 19.9996 11.5386 19.9996 10.0001C19.9996 8.46158 18.7204 7.21438 17.1424 7.21438C15.5645 7.21438 14.2853 8.46158 14.2853 10.0001C14.2853 11.5386 15.5645 12.7858 17.1424 12.7858ZM17.142 12.0894C18.3255 12.0894 19.2849 11.1539 19.2849 10.0001C19.2849 8.84619 18.3255 7.91079 17.142 7.91079C15.9586 7.91079 14.9992 8.84619 14.9992 10.0001C14.9992 11.1539 15.9586 12.0894 17.142 12.0894ZM2.85714 12.7859C4.4351 12.7859 5.71429 11.5387 5.71429 10.0002C5.71429 8.46169 4.4351 7.21448 2.85714 7.21448C1.27919 7.21448 0 8.46169 0 10.0002C0 11.5387 1.27919 12.7859 2.85714 12.7859ZM2.85672 12.0893C4.04019 12.0893 4.99958 11.1539 4.99958 10.0001C4.99958 8.84618 4.04019 7.91077 2.85672 7.91077C1.67326 7.91077 0.713867 8.84618 0.713867 10.0001C0.713867 11.1539 1.67326 12.0893 2.85672 12.0893ZM10.0007 19.7499C11.5787 19.7499 12.8578 18.5027 12.8578 16.9642C12.8578 15.4257 11.5787 14.1785 10.0007 14.1785C8.42274 14.1785 7.14355 15.4257 7.14355 16.9642C7.14355 18.5027 8.42274 19.7499 10.0007 19.7499ZM10.0003 19.0535C11.1837 19.0535 12.1431 18.1181 12.1431 16.9642C12.1431 15.8103 11.1837 14.8749 10.0003 14.8749C8.81681 14.8749 7.85742 15.8103 7.85742 16.9642C7.85742 18.1181 8.81681 19.0535 10.0003 19.0535ZM5.71429 16.9643C5.71429 18.5028 4.4351 19.75 2.85714 19.75C1.27919 19.75 0 18.5028 0 16.9643C0 15.4258 1.27919 14.1786 2.85714 14.1786C4.4351 14.1786 5.71429 15.4258 5.71429 16.9643ZM4.99958 16.9643C4.99958 18.1181 4.04019 19.0535 2.85672 19.0535C1.67326 19.0535 0.713867 18.1181 0.713867 16.9643C0.713867 15.8104 1.67326 14.875 2.85672 14.875C4.04019 14.875 4.99958 15.8104 4.99958 16.9643ZM19.9996 16.9643C19.9996 18.5028 18.7204 19.75 17.1424 19.75C15.5645 19.75 14.2853 18.5028 14.2853 16.9643C14.2853 15.4258 15.5645 14.1786 17.1424 14.1786C18.7204 14.1786 19.9996 15.4258 19.9996 16.9643ZM19.2849 16.9643C19.2849 18.1182 18.3255 19.0536 17.142 19.0536C15.9586 19.0536 14.9992 18.1182 14.9992 16.9643C14.9992 15.8104 15.9586 14.875 17.142 14.875C18.3255 14.875 19.2849 15.8104 19.2849 16.9643Z" fill="white"/>
                        </svg>
                    </li>
                </ul>
            </div>
            <!-- <div class="dropdown dropdown-icon">
                <button id="insertCircleTable">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.0003 4.5C12.4298 4.5 13.5886 3.49264 13.5886 2.25C13.5886 1.00736 12.4298 0 11.0003 0C9.5709 0 8.41211 1.00736 8.41211 2.25C8.41211 3.49264 9.5709 4.5 11.0003 4.5ZM11.0008 3.74995C11.9537 3.74995 12.7263 3.07838 12.7263 2.24995C12.7263 1.42153 11.9537 0.749954 11.0008 0.749954C10.0478 0.749954 9.27528 1.42153 9.27528 2.24995C9.27528 3.07838 10.0478 3.74995 11.0008 3.74995Z" fill="white"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.4115 9.5625C20.8409 9.5625 21.9997 8.55514 21.9997 7.3125C21.9997 6.06986 20.8409 5.0625 19.4115 5.0625C17.982 5.0625 16.8232 6.06986 16.8232 7.3125C16.8232 8.55514 17.982 9.5625 19.4115 9.5625ZM19.4119 8.81245C20.3649 8.81245 21.1374 8.14088 21.1374 7.31245C21.1374 6.48403 20.3649 5.81245 19.4119 5.81245C18.4589 5.81245 17.6864 6.48403 17.6864 7.31245C17.6864 8.14088 18.4589 8.81245 19.4119 8.81245Z" fill="white"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M16.8236 18C18.253 18 19.4118 16.9926 19.4118 15.75C19.4118 14.5074 18.253 13.5 16.8236 13.5C15.3941 13.5 14.2354 14.5074 14.2354 15.75C14.2354 16.9926 15.3941 18 16.8236 18ZM16.824 17.25C17.777 17.25 18.5495 16.5784 18.5495 15.75C18.5495 14.9215 17.777 14.25 16.824 14.25C15.871 14.25 15.0985 14.9215 15.0985 15.75C15.0985 16.5784 15.871 17.25 16.824 17.25Z" fill="white"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M5.17613 18C6.60557 18 7.76436 16.9926 7.76436 15.75C7.76436 14.5074 6.60557 13.5 5.17613 13.5C3.74668 13.5 2.58789 14.5074 2.58789 15.75C2.58789 16.9926 3.74668 18 5.17613 18ZM5.17655 17.25C6.12951 17.25 6.90204 16.5784 6.90204 15.75C6.90204 14.9215 6.12951 14.25 5.17655 14.25C4.22359 14.25 3.45106 14.9215 3.45106 15.75C3.45106 16.5784 4.22359 17.25 5.17655 17.25Z" fill="white"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.58824 9.5625C4.01768 9.5625 5.17647 8.55514 5.17647 7.3125C5.17647 6.06986 4.01768 5.0625 2.58824 5.0625C1.15879 5.0625 0 6.06986 0 7.3125C0 8.55514 1.15879 9.5625 2.58824 9.5625ZM2.58866 8.81245C3.54162 8.81245 4.31415 8.14088 4.31415 7.31245C4.31415 6.48403 3.54162 5.81245 2.58866 5.81245C1.63569 5.81245 0.863166 6.48403 0.863166 7.31245C0.863166 8.14088 1.63569 8.81245 2.58866 8.81245Z" fill="white"/>
                        <ellipse cx="11" cy="10" rx="8" ry="7" fill="#343439"/>
                        <path d="M17 10.5C17 13.5376 14.3137 16 11 16C7.68629 16 5 13.5376 5 10.5C5 7.46243 7.68629 5 11 5C14.3137 5 17 7.46243 17 10.5Z" fill="white"/>
                        <ellipse cx="11" cy="10.5" rx="5" ry="4.5" fill="#343439"/>
                    </svg>
                </button>
                <ul class="dropdown-menu" id="insertTableSeatDropDown">
                    <li class="dropdown-item" id="insertCircleTable">
                        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.0003 4.5C12.4298 4.5 13.5886 3.49264 13.5886 2.25C13.5886 1.00736 12.4298 0 11.0003 0C9.5709 0 8.41211 1.00736 8.41211 2.25C8.41211 3.49264 9.5709 4.5 11.0003 4.5ZM11.0008 3.74995C11.9537 3.74995 12.7263 3.07838 12.7263 2.24995C12.7263 1.42153 11.9537 0.749954 11.0008 0.749954C10.0478 0.749954 9.27528 1.42153 9.27528 2.24995C9.27528 3.07838 10.0478 3.74995 11.0008 3.74995Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M19.4115 9.5625C20.8409 9.5625 21.9997 8.55514 21.9997 7.3125C21.9997 6.06986 20.8409 5.0625 19.4115 5.0625C17.982 5.0625 16.8232 6.06986 16.8232 7.3125C16.8232 8.55514 17.982 9.5625 19.4115 9.5625ZM19.4119 8.81245C20.3649 8.81245 21.1374 8.14088 21.1374 7.31245C21.1374 6.48403 20.3649 5.81245 19.4119 5.81245C18.4589 5.81245 17.6864 6.48403 17.6864 7.31245C17.6864 8.14088 18.4589 8.81245 19.4119 8.81245Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M16.8236 18C18.253 18 19.4118 16.9926 19.4118 15.75C19.4118 14.5074 18.253 13.5 16.8236 13.5C15.3941 13.5 14.2354 14.5074 14.2354 15.75C14.2354 16.9926 15.3941 18 16.8236 18ZM16.824 17.25C17.777 17.25 18.5495 16.5784 18.5495 15.75C18.5495 14.9215 17.777 14.25 16.824 14.25C15.871 14.25 15.0985 14.9215 15.0985 15.75C15.0985 16.5784 15.871 17.25 16.824 17.25Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.17613 18C6.60557 18 7.76436 16.9926 7.76436 15.75C7.76436 14.5074 6.60557 13.5 5.17613 13.5C3.74668 13.5 2.58789 14.5074 2.58789 15.75C2.58789 16.9926 3.74668 18 5.17613 18ZM5.17655 17.25C6.12951 17.25 6.90204 16.5784 6.90204 15.75C6.90204 14.9215 6.12951 14.25 5.17655 14.25C4.22359 14.25 3.45106 14.9215 3.45106 15.75C3.45106 16.5784 4.22359 17.25 5.17655 17.25Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M2.58824 9.5625C4.01768 9.5625 5.17647 8.55514 5.17647 7.3125C5.17647 6.06986 4.01768 5.0625 2.58824 5.0625C1.15879 5.0625 0 6.06986 0 7.3125C0 8.55514 1.15879 9.5625 2.58824 9.5625ZM2.58866 8.81245C3.54162 8.81245 4.31415 8.14088 4.31415 7.31245C4.31415 6.48403 3.54162 5.81245 2.58866 5.81245C1.63569 5.81245 0.863166 6.48403 0.863166 7.31245C0.863166 8.14088 1.63569 8.81245 2.58866 8.81245Z" fill="white"/>
                            <ellipse cx="11" cy="10" rx="8" ry="7" fill="#343439"/>
                            <path d="M17 10.5C17 13.5376 14.3137 16 11 16C7.68629 16 5 13.5376 5 10.5C5 7.46243 7.68629 5 11 5C14.3137 5 17 7.46243 17 10.5Z" fill="white"/>
                            <ellipse cx="11" cy="10.5" rx="5" ry="4.5" fill="#343439"/>
                        </svg>
                    </li>
                    <li class="dropdown-item" id="insertRectangleTable">
                        <svg width="26" height="19" viewBox="0 0 26 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M2.36364 11.875C3.66904 11.875 4.72727 10.8117 4.72727 9.5C4.72727 8.18832 3.66904 7.125 2.36364 7.125C1.05824 7.125 0 8.18832 0 9.5C0 10.8117 1.05824 11.875 2.36364 11.875ZM2.36482 11.0833C3.23509 11.0833 3.94058 10.3744 3.94058 9.49996C3.94058 8.62551 3.23509 7.91663 2.36482 7.91663C1.49455 7.91663 0.789062 8.62551 0.789062 9.49996C0.789062 10.3744 1.49455 11.0833 2.36482 11.0833Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M8.27282 4.75C9.57822 4.75 10.6365 3.68668 10.6365 2.375C10.6365 1.06332 9.57822 0 8.27282 0C6.96742 0 5.90918 1.06332 5.90918 2.375C5.90918 3.68668 6.96742 4.75 8.27282 4.75ZM8.274 3.95829C9.14427 3.95829 9.84976 3.24941 9.84976 2.37496C9.84976 1.50051 9.14427 0.791626 8.274 0.791626C7.40373 0.791626 6.69824 1.50051 6.69824 2.37496C6.69824 3.24941 7.40373 3.95829 8.274 3.95829Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M17.7279 4.75C19.0333 4.75 20.0915 3.68668 20.0915 2.375C20.0915 1.06332 19.0333 0 17.7279 0C16.4225 0 15.3643 1.06332 15.3643 2.375C15.3643 3.68668 16.4225 4.75 17.7279 4.75ZM17.7291 3.95829C18.5993 3.95829 19.3048 3.24941 19.3048 2.37496C19.3048 1.50051 18.5993 0.791626 17.7291 0.791626C16.8588 0.791626 16.1533 1.50051 16.1533 2.37496C16.1533 3.24941 16.8588 3.95829 17.7291 3.95829Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M23.6371 11.875C24.9425 11.875 26.0007 10.8117 26.0007 9.5C26.0007 8.18832 24.9425 7.125 23.6371 7.125C22.3317 7.125 21.2734 8.18832 21.2734 9.5C21.2734 10.8117 22.3317 11.875 23.6371 11.875ZM23.6383 11.0833C24.5085 11.0833 25.214 10.3744 25.214 9.49996C25.214 8.62551 24.5085 7.91663 23.6383 7.91663C22.768 7.91663 22.0625 8.62551 22.0625 9.49996C22.0625 10.3744 22.768 11.0833 23.6383 11.0833Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M17.7279 19C19.0333 19 20.0915 17.9367 20.0915 16.625C20.0915 15.3133 19.0333 14.25 17.7279 14.25C16.4225 14.25 15.3643 15.3133 15.3643 16.625C15.3643 17.9367 16.4225 19 17.7279 19ZM17.7291 18.2083C18.5993 18.2083 19.3048 17.4994 19.3048 16.625C19.3048 15.7505 18.5993 15.0416 17.7291 15.0416C16.8588 15.0416 16.1533 15.7505 16.1533 16.625C16.1533 17.4994 16.8588 18.2083 17.7291 18.2083Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M8.27282 19C9.57822 19 10.6365 17.9367 10.6365 16.625C10.6365 15.3133 9.57822 14.25 8.27282 14.25C6.96742 14.25 5.90918 15.3133 5.90918 16.625C5.90918 17.9367 6.96742 19 8.27282 19ZM8.274 18.2083C9.14427 18.2083 9.84976 17.4994 9.84976 16.625C9.84976 15.7505 9.14427 15.0416 8.274 15.0416C7.40373 15.0416 6.69824 15.7505 6.69824 16.625C6.69824 17.4994 7.40373 18.2083 8.274 18.2083Z" fill="white"/>
                            <rect x="3" y="3" width="20" height="13" fill="#343439"/>
                            <path d="M21 5H5V14H21V5Z" fill="white"/>
                        </svg>
                    </li>
                </ul>
            </div> -->
            <button id="insertText"><i class="bi bi-fonts"></i></button>
            <button id="seatUndoButton"><i class="bi bi-arrow-counterclockwise"></i></button>
            <button id="seatRedoButton"><i class="bi bi-arrow-clockwise"></i></button>
            <button id="seatRemoveButton"><i class="bi bi-trash"></i></button>
        </div>
        <div style="width: 20rem;font-size: 28px;">VieTicket</div>
        <div>
            <button id="duplicateShapeInArea">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.125 0H5.625C4.58945 0 3.75 0.839453 3.75 1.875V3.75H1.875C0.839453 3.75 0 4.58945 0 5.625V18.125C0 19.1605 0.839453 20 1.875 20H14.375C15.4105 20 16.25 19.1605 16.25 18.125V16.25H18.125C19.1605 16.25 20 15.4105 20 14.375V1.875C20 0.839453 19.1605 0 18.125 0ZM14.1406 18.125H2.10938C2.04721 18.125 1.9876 18.1003 1.94365 18.0564C1.89969 18.0124 1.875 17.9528 1.875 17.8906V5.85938C1.875 5.79721 1.89969 5.7376 1.94365 5.69365C1.9876 5.64969 2.04721 5.625 2.10938 5.625H3.75V14.375C3.75 15.4105 4.58945 16.25 5.625 16.25H14.375V17.8906C14.375 17.9528 14.3503 18.0124 14.3064 18.0564C14.2624 18.1003 14.2028 18.125 14.1406 18.125ZM17.8906 14.375H5.85938C5.79721 14.375 5.7376 14.3503 5.69365 14.3064C5.64969 14.2624 5.625 14.2028 5.625 14.1406V2.10938C5.625 2.04721 5.64969 1.9876 5.69365 1.94365C5.7376 1.89969 5.79721 1.875 5.85938 1.875H17.8906C17.9528 1.875 18.0124 1.89969 18.0564 1.94365C18.1003 1.9876 18.125 2.04721 18.125 2.10938V14.1406C18.125 14.2028 18.1003 14.2624 18.0564 14.3064C18.0124 14.3503 17.9528 14.375 17.8906 14.375Z" fill="white"/>
                </svg>
            </button>
            <button  data-bs-toggle="modal" data-bs-target="#exampleModalLong"><i class="bi bi-question-circle" ></i></button>
        </div>
    </div>
    <div class="templates-panel" id="templatesPanel">
        <div class="template-img" id="templateOne">
            <img src="../static/seat-map-templates/small_stadium.png" onclick="loadJson('small_stadium.json')">
        </div>
        <div class="template-img" id="templateTwo">
           <img src="../static/seat-map-templates/stadium.png" onclick="loadJson('stadium.json')">
        </div>
        <div class="template-img" id="templateThree">
           <img src="../static/seat-map-templates/one-area.png" onclick="loadJson('one-area.json')">
        </div>
    </div>
    <div class="editor-panel" id="editorPanel">
        <div id="editorTitle">
        </div>
        <div id="editorContent">
        </div>
    </div>
    <div class="modal fade" id="exampleModalLong" tabindex="-1" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title px-4" id="exampleModalLongTitle">Seat Map Maker</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex flex-column justify-content-center align-items-center">
                        <h3>Important!!</h3>
                        <p>
                            You'll need to save the seat map after you're
                            done or you can't continue. You can continue 
                            drawing your seat map after submitting it by going
                            to pending events and clicking on the edit 
                            seat map button
                        </p>
                    </div>
                    <h3 class="text-center">Components</h3>
                    <div class="d-flex justify-content-start gap-4">
                        <i class="bi bi-list"></i>
                        <p>
                            Menu: it will show
                            3 additional buttons which are used
                            at the begining or at the end of the drawing
                        </p>
                    </div>
                    <div class="d-flex justify-content-start gap-4">
                        <i class="bi bi-save"></i>
                        <p>
                            Save: If the seat map is finished or you just want
                            to save it right now and continue at the next day
                        </p>
                    </div>
                    <div class="d-flex justify-content-start gap-4">
                        <i class="bi bi-folder2-open"></i>
                        <p>
                            Templates: Opens up the sidebar where you can choose
                            the seatmap template which may have similar areas with the
                            event's
                        </p>
                    </div>
                    <div class="d-flex justify-content-start gap-4">
                        <i class="bi bi-box-arrow-left"></i>
                        <p>
                            Exit: Return to the previous page
                        </p>
                    </div>
                    <div class="d-flex justify-content-start gap-4">
                        <i class="bi bi-cursor"></i>
                        <p>
                            Select: Select one of the shapes you can perform this
                            operations: Modify shape's properties, Move the shape, Change area's
                            shape, Double click on shape will go inside the shape.
                        </p>
                    </div>
                    <div class="d-flex justify-content-start gap-4">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.922 6.52771C12.7689 6.20894 12.4032 6 12 6C11.5968 6 11.2311 6.20894 11.078 6.52771L7.32749 14.2424L6.07732 16.814C5.86479 17.2507 6.10545 17.7516 6.61489 17.9337C7.12434 18.1159 7.70879 17.9096 7.92132 17.473L8.9152 15.4291H15.0848L16.0787 17.473C16.2912 17.9096 16.8757 18.1159 17.3851 17.9337C17.8946 17.7516 18.1352 17.2507 17.9227 16.814L16.6725 14.2424L12.922 6.52771ZM14.2503 13.7147H9.74969L12 9.08589L14.2503 13.7147Z" fill="black"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M2 0C0.895431 0 0 0.89543 0 2V22C0 23.1046 0.89543 24 2 24H22C23.1046 24 24 23.1046 24 22V2C24 0.895431 23.1046 0 22 0H2ZM3.40039 2.4C2.84811 2.4 2.40039 2.84772 2.40039 3.4V20.6C2.40039 21.1523 2.84811 21.6 3.40039 21.6H20.6004C21.1527 21.6 21.6004 21.1523 21.6004 20.6V3.4C21.6004 2.84772 21.1527 2.4 20.6004 2.4H3.40039Z" fill="black"/>
                        </svg>
                        <p>
                            Insert area: Start area drawing process
                        </p>
                    </div>
                    <div class="d-flex justify-content-start gap-4">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_2416_94)">
                            <path d="M10.6315 8.47032C10.1792 8.67188 9.93621 8.98126 9.86871 9.39376C9.81471 9.72423 9.85296 9.93751 9.91371 10.0828C9.97671 10.2305 10.0915 10.3734 10.2895 10.5188C10.7215 10.8328 11.3762 11.0367 12.1997 11.2805C12.2222 11.2875 12.2425 11.2945 12.265 11.2992C13.0007 11.5172 13.885 11.782 14.5352 12.2531C14.8885 12.5086 15.208 12.8508 15.4037 13.3102C15.6017 13.7742 15.6467 14.2945 15.5522 14.8641C15.388 15.8602 14.758 16.5445 13.9367 16.9102C13.1402 17.2664 12.157 17.3297 11.1535 17.1656H11.149C10.609 17.0742 9.73821 16.7649 9.17796 16.5656C9.06996 16.5258 8.97096 16.493 8.88996 16.4649C8.51646 16.3313 8.31396 15.907 8.43771 15.5133C8.56146 15.1195 8.97096 14.9086 9.34896 15.0375C9.45921 15.075 9.57846 15.1172 9.70671 15.1641C10.2782 15.3656 10.9757 15.6141 11.3807 15.682C12.2087 15.8156 12.8995 15.7406 13.372 15.5297C13.8242 15.3281 14.065 15.0188 14.1347 14.6063C14.1887 14.2758 14.1505 14.0625 14.0897 13.9172C14.0267 13.7695 13.912 13.6266 13.714 13.4813C13.282 13.1672 12.6272 12.9633 11.8037 12.7195C11.7812 12.7125 11.761 12.7055 11.7385 12.7008C11.0027 12.4828 10.1185 12.218 9.46821 11.7469C9.11496 11.4914 8.79546 11.1492 8.59971 10.6899C8.40171 10.2258 8.35671 9.70548 8.45121 9.13594L9.15996 9.26485L8.44896 9.13829C8.61321 8.14219 9.24321 7.45782 10.0645 7.09219C10.861 6.73594 11.8442 6.67266 12.8477 6.83673C13.1402 6.8836 14.0267 7.06173 14.3462 7.15079C14.731 7.25626 14.9582 7.66876 14.857 8.06954C14.7557 8.47032 14.3597 8.70704 13.975 8.60157C13.723 8.53126 12.8927 8.36251 12.6227 8.32032C11.7925 8.18438 11.104 8.26173 10.6292 8.47266L10.6315 8.47032Z"
                                  fill="black"/>
                        </g>
                        <path clip-rule="evenodd" d="M2 0C0.895431 0 0 0.89543 0 2V22C0 23.1046 0.89543 24 2 24H22C23.1046 24 24 23.1046 24 22V2C24 0.895431 23.1046 0 22 0H2ZM3.40234 2.4C2.85006 2.4 2.40234 2.84772 2.40234 3.4V20.6C2.40234 21.1523 2.85006 21.6 3.40234 21.6H20.6023C21.1546 21.6 21.6023 21.1523 21.6023 20.6V3.4C21.6023 2.84772 21.1546 2.4 20.6023 2.4H3.40234Z"
                              fill="black"
                              fill-rule="evenodd"/>
                        <defs>
                            <clipPath id="clip0_2416_94">
                                <rect fill="black" height="12" transform="translate(8.40234 6)" width="7.2"/>
                            </clipPath>
                        </defs>
                    </svg>
                    <p>
                        Insert rectangular stage: Create a rectangular shape stage
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <svg fill="none" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
                        <path clip-rule="evenodd" d="M23.5 12C23.5 18.3513 18.3513 23.5 12 23.5C5.64873 23.5 0.5 18.3513 0.5 12C0.5 5.64873 5.64873 0.5 12 0.5C18.3513 0.5 23.5 5.64873 23.5 12ZM21.5 12C21.5 17.2467 17.2467 21.5 12 21.5C6.75329 21.5 2.5 17.2467 2.5 12C2.5 6.75329 6.75329 2.5 12 2.5C17.2467 2.5 21.5 6.75329 21.5 12ZM9.46677 9.39375C9.53427 8.98125 9.77727 8.67188 10.2295 8.47031L10.2273 8.47266C10.702 8.26172 11.3905 8.18438 12.2208 8.32031C12.4908 8.3625 13.321 8.53125 13.573 8.60156C13.9578 8.70703 14.3538 8.47031 14.455 8.06953C14.5563 7.66875 14.329 7.25625 13.9443 7.15078C13.6248 7.06172 12.7383 6.88359 12.4458 6.83672C11.4423 6.67266 10.459 6.73594 9.66252 7.09219C8.84127 7.45781 8.21127 8.14219 8.04702 9.13828L8.04883 9.1386C7.95491 9.70709 8.00008 10.2265 8.19777 10.6898C8.39352 11.1492 8.71302 11.4914 9.06627 11.7469C9.71652 12.218 10.6008 12.4828 11.3365 12.7008C11.3548 12.7046 11.3715 12.7099 11.3892 12.7155C11.3933 12.7169 11.3975 12.7182 11.4018 12.7195C12.2253 12.9633 12.88 13.1672 13.312 13.4812C13.51 13.6266 13.6248 13.7695 13.6878 13.9172C13.7485 14.0625 13.7868 14.2758 13.7328 14.6062C13.663 15.0188 13.4223 15.3281 12.97 15.5297C12.4975 15.7406 11.8068 15.8156 10.9788 15.682C10.5861 15.6161 9.91838 15.3806 9.35719 15.1826L9.30477 15.1641C9.17652 15.1172 9.05727 15.075 8.94702 15.0375C8.56902 14.9086 8.15952 15.1195 8.03577 15.5133C7.91202 15.907 8.11452 16.3312 8.48802 16.4648C8.51003 16.4725 8.53337 16.4805 8.55785 16.4889C8.62348 16.5113 8.69737 16.5366 8.77602 16.5656C9.33627 16.7648 10.207 17.0742 10.747 17.1656H10.7515C11.755 17.3297 12.7383 17.2664 13.5348 16.9102C14.356 16.5445 14.986 15.8602 15.1503 14.8641C15.2448 14.2945 15.1998 13.7742 15.0018 13.3102C14.806 12.8508 14.4865 12.5086 14.1333 12.2531C13.483 11.782 12.5988 11.5172 11.863 11.2992C11.8448 11.2954 11.828 11.2901 11.8104 11.2845C11.8062 11.2831 11.802 11.2818 11.7978 11.2805C10.9743 11.0367 10.3195 10.8328 9.88752 10.5188C9.68952 10.3734 9.57477 10.2305 9.51177 10.0828C9.45102 9.9375 9.41277 9.72422 9.46677 9.39375Z"
                              fill="black"
                              fill-rule="evenodd"/>
                    </svg>
                    <p>
                        Insert oval stage: Create a oval shape stage
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <svg fill="none" height="18" viewBox="0 0 18 20" width="16" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14.8035 4.40004V3.97719C14.8035 2.2736 13.2207 0.981458 11.5598 1.41681C10.5586 -0.516781 7.88438 -0.436703 6.9511 1.44599C5.3386 1.03345 3.73216 2.26349 3.73216 3.98438V8.91132C2.95275 8.6212 2.04045 8.71335 1.30705 9.25784C0.160376 10.1092 -0.091147 11.7318 0.738695 12.8966L5.42497 19.4753C5.54057 19.6376 5.69328 19.7698 5.87037 19.8611C6.04745 19.9524 6.24379 20 6.44302 20H15.1499C15.7321 20 16.2372 19.5981 16.368 19.0307L17.547 13.9152C17.6818 13.3302 17.7498 12.7317 17.7499 12.1314V6.99218C17.7499 5.40547 16.3623 4.18 14.8035 4.40004ZM15.8748 12.1313C15.8748 12.5896 15.8227 13.0481 15.7199 13.4941L14.6526 18.125H6.76509L2.26525 11.8087C1.70123 11.0169 2.85209 10.1378 3.41345 10.9257L4.47314 12.4131C4.8245 12.9063 5.60716 12.6587 5.60716 12.0505V3.98438C5.60716 2.98262 7.03571 3.01524 7.03571 4.01137V9.99999C7.03571 10.3452 7.31551 10.625 7.66071 10.625H7.92852C8.27371 10.625 8.55352 10.3452 8.55352 9.99999V2.6172C8.55352 1.61474 9.98207 1.64806 9.98207 2.64419V9.99999C9.98207 10.3452 10.2619 10.625 10.6071 10.625H10.8749C11.2201 10.625 11.4999 10.3452 11.4999 9.99999V3.9502C11.4999 2.94739 12.9284 2.98106 12.9284 3.97719V9.99999C12.9284 10.3452 13.2082 10.625 13.5534 10.625H13.8212C14.1664 10.625 14.4462 10.3452 14.4462 9.99999V7.01918C14.4462 5.9941 15.8747 6.01762 15.8747 6.99218V12.1313H15.8748Z"
                              fill="black"/>
                    </svg>
                    <p>
                        Panning: Use the mouse for panning in canvas
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <i class="bi bi-arrow-counterclockwise"></i>
                    <p>
                        Undo: return to previous state
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <i class="bi bi-arrow-clockwise"></i>
                    <p>
                        Redo: redo to last action that you performed
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <i class="bi bi-trash"></i>
                    <p>
                        Remove: remove selected shape
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <svg height="16" viewBox="0 0 100 64" width="16" xmlns="http://www.w3.org/2000/svg">
                        <polygon fill="none" points="4,60 35,4 35,60" stroke="#000000" stroke-dasharray="4,4"
                                 stroke-width="2"/>
                        <polygon fill="none" points="48,4 80,60 48,60" stroke="#000000" stroke-width="2"/>
                    </svg>
                    <p>
                        Horizontal mirroring: mirror selected shape horizontally
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <svg class="rotate-ninety" height="16" viewBox="0 0 100 64" width="16"
                         xmlns="http://www.w3.org/2000/svg">
                        <polygon fill="none" points="4,60 35,4 35,60" stroke="#000000" stroke-dasharray="4,4"
                                 stroke-width="2"/>
                        <polygon fill="none" points="48,4 80,60 48,60" stroke="#000000" stroke-width="2"/>
                    </svg>
                    <p>
                        Vertically mirroring: mirror selected shape vertically
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <svg fill="black" height="16" viewBox="0 0 20 20" width="16" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.125 0H5.625C4.58945 0 3.75 0.839453 3.75 1.875V3.75H1.875C0.839453 3.75 0 4.58945 0 5.625V18.125C0 19.1605 0.839453 20 1.875 20H14.375C15.4105 20 16.25 19.1605 16.25 18.125V16.25H18.125C19.1605 16.25 20 15.4105 20 14.375V1.875C20 0.839453 19.1605 0 18.125 0ZM14.1406 18.125H2.10938C2.04721 18.125 1.9876 18.1003 1.94365 18.0564C1.89969 18.0124 1.875 17.9528 1.875 17.8906V5.85938C1.875 5.79721 1.89969 5.7376 1.94365 5.69365C1.9876 5.64969 2.04721 5.625 2.10938 5.625H3.75V14.375C3.75 15.4105 4.58945 16.25 5.625 16.25H14.375V17.8906C14.375 17.9528 14.3503 18.0124 14.3064 18.0564C14.2624 18.1003 14.2028 18.125 14.1406 18.125ZM17.8906 14.375H5.85938C5.79721 14.375 5.7376 14.3503 5.69365 14.3064C5.64969 14.2624 5.625 14.2028 5.625 14.1406V2.10938C5.625 2.04721 5.64969 1.9876 5.69365 1.94365C5.7376 1.89969 5.79721 1.875 5.85938 1.875H17.8906C17.9528 1.875 18.0124 1.89969 18.0564 1.94365C18.1003 1.9876 18.125 2.04721 18.125 2.10938V14.1406C18.125 14.2028 18.1003 14.2624 18.0564 14.3064C18.0124 14.3503 17.9528 14.375 17.8906 14.375Z"
                              fill="black"/>
                    </svg>
                    <p>
                        Duplicate: duplicate selected shape
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <i class="bi bi-arrow-left"></i>
                    <p>
                        Exit area canvas: Return to the main canvas
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <svg fill="none" height="16" viewBox="0 0 20 10" width="16" xmlns="http://www.w3.org/2000/svg">
                        <path clip-rule="evenodd" d="M2.85709 6C4.43501 6 5.71418 4.65685 5.71418 3C5.71418 1.34315 4.43501 0 2.85709 0C1.27916 0 0 1.34315 0 3C0 4.65685 1.27916 6 2.85709 6ZM2.8571 5.25C4.04054 5.25 4.99991 4.24264 4.99991 3C4.99991 1.75736 4.04054 0.75 2.8571 0.75C1.67365 0.75 0.714282 1.75736 0.714282 3C0.714282 4.24264 1.67365 5.25 2.8571 5.25ZM17.1422 6C18.7202 6 19.9993 4.65685 19.9993 3C19.9993 1.34315 18.7202 0 17.1422 0C15.5643 0 14.2852 1.34315 14.2852 3C14.2852 4.65685 15.5643 6 17.1422 6ZM17.1431 5.25C18.3265 5.25 19.2859 4.24264 19.2859 3C19.2859 1.75736 18.3265 0.75 17.1431 0.75C15.9596 0.75 15.0002 1.75736 15.0002 3C15.0002 4.24264 15.9596 5.25 17.1431 5.25ZM12.8572 3C12.8572 4.65685 11.5781 6 10.0002 6C8.42223 6 7.14307 4.65685 7.14307 3C7.14307 1.34315 8.42223 0 10.0002 0C11.5781 0 12.8572 1.34315 12.8572 3ZM12.143 3C12.143 4.24264 11.1836 5.25 10.0002 5.25C8.81672 5.25 7.85735 4.24264 7.85735 3C7.85735 1.75736 8.81672 0.75 10.0002 0.75C11.1836 0.75 12.143 1.75736 12.143 3Z"
                              fill="black"
                              fill-rule="evenodd"/>
                    </svg>
                    <p>
                        Row: create a row of seats
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <svg fill="none" height="16" viewBox="0 0 20 20" width="16" xmlns="http://www.w3.org/2000/svg">
                        <path clip-rule="evenodd" d="M2.85714 5.82142C4.4351 5.82142 5.71429 4.57421 5.71429 3.03571C5.71429 1.4972 4.4351 0.25 2.85714 0.25C1.27919 0.25 0 1.4972 0 3.03571C0 4.57421 1.27919 5.82142 2.85714 5.82142ZM2.85672 5.12501C4.04019 5.12501 4.99958 4.18961 4.99958 3.03573C4.99958 1.88185 4.04019 0.946445 2.85672 0.946445C1.67326 0.946445 0.713867 1.88185 0.713867 3.03573C0.713867 4.18961 1.67326 5.12501 2.85672 5.12501ZM17.1424 5.82142C18.7204 5.82142 19.9996 4.57421 19.9996 3.03571C19.9996 1.4972 18.7204 0.25 17.1424 0.25C15.5645 0.25 14.2853 1.4972 14.2853 3.03571C14.2853 4.57421 15.5645 5.82142 17.1424 5.82142ZM17.142 5.12501C18.3255 5.12501 19.2849 4.18961 19.2849 3.03573C19.2849 1.88185 18.3255 0.946445 17.142 0.946445C15.9586 0.946445 14.9992 1.88185 14.9992 3.03573C14.9992 4.18961 15.9586 5.12501 17.142 5.12501ZM12.8578 3.03571C12.8578 4.57421 11.5787 5.82142 10.0007 5.82142C8.42274 5.82142 7.14355 4.57421 7.14355 3.03571C7.14355 1.4972 8.42274 0.25 10.0007 0.25C11.5787 0.25 12.8578 1.4972 12.8578 3.03571ZM12.1431 3.03573C12.1431 4.18961 11.1837 5.12501 10.0003 5.12501C8.81681 5.12501 7.85742 4.18961 7.85742 3.03573C7.85742 1.88185 8.81681 0.946445 10.0003 0.946445C11.1837 0.946445 12.1431 1.88185 12.1431 3.03573ZM12.8578 10C12.8578 11.5385 11.5787 12.7857 10.0007 12.7857C8.42274 12.7857 7.14355 11.5385 7.14355 10C7.14355 8.46153 8.42274 7.21433 10.0007 7.21433C11.5787 7.21433 12.8578 8.46153 12.8578 10ZM12.1431 10C12.1431 11.1539 11.1837 12.0893 10.0003 12.0893C8.81681 12.0893 7.85742 11.1539 7.85742 10C7.85742 8.84614 8.81681 7.91074 10.0003 7.91074C11.1837 7.91074 12.1431 8.84614 12.1431 10ZM17.1424 12.7858C18.7204 12.7858 19.9996 11.5386 19.9996 10.0001C19.9996 8.46158 18.7204 7.21438 17.1424 7.21438C15.5645 7.21438 14.2853 8.46158 14.2853 10.0001C14.2853 11.5386 15.5645 12.7858 17.1424 12.7858ZM17.142 12.0894C18.3255 12.0894 19.2849 11.1539 19.2849 10.0001C19.2849 8.84619 18.3255 7.91079 17.142 7.91079C15.9586 7.91079 14.9992 8.84619 14.9992 10.0001C14.9992 11.1539 15.9586 12.0894 17.142 12.0894ZM2.85714 12.7859C4.4351 12.7859 5.71429 11.5387 5.71429 10.0002C5.71429 8.46169 4.4351 7.21448 2.85714 7.21448C1.27919 7.21448 0 8.46169 0 10.0002C0 11.5387 1.27919 12.7859 2.85714 12.7859ZM2.85672 12.0893C4.04019 12.0893 4.99958 11.1539 4.99958 10.0001C4.99958 8.84618 4.04019 7.91077 2.85672 7.91077C1.67326 7.91077 0.713867 8.84618 0.713867 10.0001C0.713867 11.1539 1.67326 12.0893 2.85672 12.0893ZM10.0007 19.7499C11.5787 19.7499 12.8578 18.5027 12.8578 16.9642C12.8578 15.4257 11.5787 14.1785 10.0007 14.1785C8.42274 14.1785 7.14355 15.4257 7.14355 16.9642C7.14355 18.5027 8.42274 19.7499 10.0007 19.7499ZM10.0003 19.0535C11.1837 19.0535 12.1431 18.1181 12.1431 16.9642C12.1431 15.8103 11.1837 14.8749 10.0003 14.8749C8.81681 14.8749 7.85742 15.8103 7.85742 16.9642C7.85742 18.1181 8.81681 19.0535 10.0003 19.0535ZM5.71429 16.9643C5.71429 18.5028 4.4351 19.75 2.85714 19.75C1.27919 19.75 0 18.5028 0 16.9643C0 15.4258 1.27919 14.1786 2.85714 14.1786C4.4351 14.1786 5.71429 15.4258 5.71429 16.9643ZM4.99958 16.9643C4.99958 18.1181 4.04019 19.0535 2.85672 19.0535C1.67326 19.0535 0.713867 18.1181 0.713867 16.9643C0.713867 15.8104 1.67326 14.875 2.85672 14.875C4.04019 14.875 4.99958 15.8104 4.99958 16.9643ZM19.9996 16.9643C19.9996 18.5028 18.7204 19.75 17.1424 19.75C15.5645 19.75 14.2853 18.5028 14.2853 16.9643C14.2853 15.4258 15.5645 14.1786 17.1424 14.1786C18.7204 14.1786 19.9996 15.4258 19.9996 16.9643ZM19.2849 16.9643C19.2849 18.1182 18.3255 19.0536 17.142 19.0536C15.9586 19.0536 14.9992 18.1182 14.9992 16.9643C14.9992 15.8104 15.9586 14.875 17.142 14.875C18.3255 14.875 19.2849 15.8104 19.2849 16.9643Z"
                              fill="black"
                              fill-rule="evenodd"/>
                    </svg>
                    <p>
                        Grid: create a grid of seats
                    </p>
                </div>
                <div class="d-flex justify-content-start gap-4">
                    <i class="bi bi-fonts"></i>
                    <p>
                        Text: create a text
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Close</button>
            </div>
        </div>
    </div>
</div>
<div id="alertContainer" style="position:fixed; bottom: 1rem; right: 1.5rem;">
    <div class="alert alert-danger" id="duplicateAreaAlert" role="alert" style="display: none; margin-bottom: 1rem;">
        There are at least two areas with the same name
    </div>
    <div class="alert alert-danger" id="unnamedAreaAlert" role="alert" style="display: none;">
        All areas should be named
    </div>
    <div class="alert alert-danger" id="duplicateRowAlert" role="alert" style="display: none; margin-bottom: 1rem;">
        There are at least two rows with the same name
    </div>
    <div class="alert alert-danger" id="unnamedRowAlert" role="alert" style="display: none;">
        All rows should be named
    </div>
    <div class="alert alert-danger" id="outsideAreaAlert" role="alert" style="display: none;">
        All the seats should be inside the area
    </div>
</div>
<!-- <script src="../static/js/canvas.js"></script>
<script src="../static/js/events.js"></script>
<script src="../static/js/functions.js"></script>
<script src="../static/js/editors.js"></script>
<script src="../static/js/shapes.js"></script>
<script src="../static/js/templates.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
<script th:src="@{/static/js/canva.js}" type="text/javascript"></script>
<script th:src="@{/static/js/validations.js}" type="text/javascript"></script>
<script th:src="@{/static/js/events.js}" type="text/javascript"></script>
<script th:src="@{/static/js/functions.js}" type="text/javascript"></script>
<script th:src="@{/static/js/editors.js}" type="text/javascript"></script>
<script th:src="@{/static/js/shape.js}" type="text/javascript"></script>
<script th:src="@{/static/js/templates.js}" type="text/javascript"></script>
<script type="text/javascript">
    function loadJson(filename) {
        const jsonFilePath = `../static/seat-map-templates/${filename}`;
        fetch(jsonFilePath)
            .then((response) => {
                if (!response.ok) {
                    throw new Error("Network response was not ok");
                }
                return response.json();
            })
            .then((canvasData) => {
                shapes = [];

                shapes = canvasData.shapes.map((shapeData) => {
                    switch (shapeData.data.type) {
                        case "EllipseStage":
                            return EllipseStage.deserialize(shapeData.data);
                        case "RectangleStage":
                            return RectangleStage.deserialize(shapeData.data);
                        case "Area":
                            return PolygonArea.deserialize(shapeData.data);
                        default:
                            console.log(shapeData);
                    }
                });

                drawAll();
            })
            .catch((error) => {
                console.error("There was a problem with fetch operation:", error);
            });
        if (filename === "stadium.json") {
            seatRadius = 6
            seatSpacing = 6
        }else if(filename==="small_stadium.json"){
            seatRadius = 10
            seatSpacing = 10
        }else if(filename==="one-area.json"){
            seatRadius = 10
            seatSpacing = 10
        }
    }

    document.addEventListener("DOMContentLoaded", () => {
        const state = sessionStorage.getItem('lastCanvasState')
        if (state) {
            restoreCanvasStateFromSession(state)
        } else if (seatMapData !== null) {
            const canvasData = JSON.parse(seatMapData);

            shapes = [];
            shapes = canvasData.map((shapeData) => {
                switch (shapeData.data.type) {
                    case "EllipseStage":
                        return EllipseStage.deserialize(shapeData.data);
                    case "RectangleStage":
                        return RectangleStage.deserialize(shapeData.data);
                    case "Area":
                        return PolygonArea.deserialize(shapeData.data);
                    default:
                        console.log(shapeData);
                }
            });

            drawAll();
        } else {
            var map = new FirstTemplate(100, 300, 700, 800);
            shapes = [...shapes, ...map.shapes];
            drawAll();
        }
        mainEditor();
        saveCanvasState();
    });
</script>
</body>
</html>
